{% extends 'layout.html' %}
{% block content %}
<a href={{ url_for('search_music', place_id=place_id, address=address) }}>Add Song</a>
{% if in_db %}
    <h1>Viewing the Collection for</h1>
    <div class="gallery-section">
      <div class="inner-width">
        <h1>{{ place_name }}</h1>
        <p>at {{ address }}</p>
        <div class="border"></div>
        <div class="gallery">
            {% for song, posts in posts_dict.items() %}
                <audio id="{{ song.song_uri[14:] }}" src="{{ song.song_preview }}"></audio>
                <img src="{{ song.album_picture }}" alt="" class="image" onmouseover="start('{{ song.song_uri[14:] }}')" onmouseout="stop('{{ song.song_uri[14:] }}')"
                     onclick="playorpause('{{ song.song_uri[14:] }}')">
            {% endfor %}
        </div>
      </div>
    </div>


{##}
{##}
{##}
{##}
{##}
{##}
{#              <img class="card-img-top" src= alt="Card image cap"#}
{#                   >#}
{#              <div class="card-body">#}
{#                <p class="card-text">{{ song.song_title }}</p>#}
{#              </div>#}
{#            </div>#}
{#            <!-- Button trigger modal -->#}
{#            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong">#}
{#              Launch demo modal#}
{#            </button>#}
{#            <!-- Modal -->#}
{#            <div class="modal fade" id="{{ song.song_uri }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">#}
{#              <div class="modal-dialog" role="document">#}
{#                <div class="modal-content">#}
{#                    {% for post in posts %}#}
{#                          <div class="modal-header">#}
{#                            <h5 class="modal-title" id="exampleModalLongTitle">Memories for {{ song.song_title }} by {{ song.artist }}</h5>#}
{#                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">#}
{#                              <span aria-hidden="true">&times;</span>#}
{#                            </button>#}
{#                          </div>#}
{#                          <div>#}
{#                            Posted by {{ post.author_name }} on {{ post.date_posted.strftime('%B-%-d-%Y') }}#}
{#                          </div>#}
{#                          <div class="modal-body">#}
{#                              {{post.post_content}}#}
{#                          </div>#}
{#                            {% endfor %}#}
{#                          <div class="modal-footer">#}
{#                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>#}
{#                            <button type="button" class="btn btn-primary">Save changes</button>#}
{#                          </div>#}
{#                        </div>#}
{#                      </div>#}
{#                    </div>#}
{#        </div>#}
    <script>
        function start(id) {
            var audio = document.getElementById(id);
            audio.play();
        }
        function stop(id) {
            var audio = document.getElementById(id);
            audio.pause();
            audio.currentTime=0;
        }
        function playorpause(id) {
            var audio = document.getElementById(id);
            if (audio.duration > 0 && !audio.paused) {
                audio.pause();
            } else {
                audio.play();
            }
        }
    </script>

{% else %}
{% endif %}
{% endblock content %}